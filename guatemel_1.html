<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulación de Pago</title>
  <style>
    :root {
      --header-color: #003366;
      --table-header-bg: #003366;
      --table-header-text: #ffffff;
      --table-bg: #ffffff;
      --table-text: #000000;
    }

    body {
      display: flex;
      margin: 0;
      font-family: Arial, sans-serif;
      background: #e9ecef;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Hoja tamaño oficio */
    .mockup {
      width: 21.59cm;
      height: 33.02cm;
      background: #fff;
      margin: 10px;
      padding: 20px 30px;
      box-shadow: 0 0 8px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }

    /* Header */
    .header {
      display: grid;
      grid-template-columns: 1fr 3fr;
      align-items: center;
      gap: 10px;
      border-bottom: 2px solid var(--header-color);
      padding-bottom: 8px;
    }
    .header-logo img { height: 70px; }
    .header-text { font-size: 11px; line-height: 1.4; }

    /* Título principal */
    .titulo {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      margin: 10px 0 0;
      color: var(--header-color);
    }
    .subtitulo {
      font-size: 12px;
      color: #444;
      text-align: left;
      margin-bottom: 10px;
    }

    /* Tablas */
    table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 11px; }
    th, td { border: 1px solid #ddd; padding: 5px; }
    th { background: var(--table-header-bg); color: var(--table-header-text); }
    td { background: var(--table-bg); color: var(--table-text); }

    /* Tablas detalle */
    .tables-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 10px; }
    .tables-grid th, .tables-grid td { font-size: 11px; }

    /* Gráficas ajustadas */
    .charts {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 15px;
      gap: 10px;
    }
    .charts canvas {
      flex: 1;
      max-width: 48%;
      height: 300px !important; /* altura fija */
      border: 1px solid #ddd;
      background: #fafafa;
      padding: 10px;
    }

    /* Panel de controles */
    .controls-panel {
      width: 280px;
      background: #f8f9fa;
      padding: 15px;
      border-left: 2px solid #ccc;
      overflow-y: auto;
    }
    .controls-panel h3 {
      margin-top: 0;
      border-bottom: 1px solid #bbb;
      padding-bottom: 5px;
    }
    .controls-panel label { display: block; margin: 8px 0 4px; font-size: 13px; }
  </style>
</head>
<body>
  <div class="mockup">
    <!-- HEADER -->
    <div class="header">
      <div class="header-logo">
        <img src="guatemel.png" alt="Logo">
      </div>
      <div class="header-text">
        <strong>COMERCIALIZADORA GUATEMALTECA MAYORISTA DE ELECTRICIDAD, SOCIEDAD ANÓNIMA</strong><br>
        Diagonal 6, 10-50 Zona 10, Edificio Interaméricas World Trade Center, Torre Sur, Nivel 14, Oficina 1401<br>
        Guatemala, Guatemala<br>
        Tel: 2367 9300
      </div>
    </div>

    <!-- Título -->
    <div class="titulo">Simulación de Pago: UNIVERSIDAD MARIANO GÁLVEZ</div>
    <div class="subtitulo" style="text-align: end; padding-top: 5px;">Aplicada desde Enero 2025 hasta Diciembre 2025</div>

    <!-- Condiciones -->
    <table class="condiciones">
      <thead><tr><th colspan="3">Condiciones Contractuales</th></tr></thead>
      <tbody>
        <tr><td>Código Usuario: GUS000000000000</td><td>NIS: 6114346</td><td>Tipo de Cambio: Q 7.6675</td></tr>
        <tr><td>Tipo Contrato: Valor fee</td><td>Techo-Piso:</td><td>Fee Spot: 3.0000</td></tr>
        <tr><td>Tipo Potencia: Demanda Firme</td><td>Demanda Firme Anual: 100.0</td><td>Demanda Contratada:</td></tr>
        <tr><td>Precio Potencia: $ 10.00</td><td>Tipo Peaje: DEOCSA</td><td>Versión del ITE: A</td></tr>
      </tbody>
    </table>

    <!-- Resumen -->
    <table class="resumen">
      <thead><tr><th colspan="3">Resumen</th></tr></thead>
      <tbody>
        <tr>
          <td>Energía Valle Promedio(kWh): 7,152.62</td>
          <td>Energía Intermedia Promedio(kWh): 21,494.76</td>
          <td>Energía Punta Promedio(kWh): 6,961.44</td>
        </tr>
      </tbody>
    </table>

    <!-- Tablas detalle -->
    <div class="tables-grid">
      <!-- Tabla cargos -->
      <table>
        <thead><tr><th colspan="4">PROMEDIO MENSUAL DE CARGOS</th></tr></thead>
        <thead><tr><th>No.</th><th>Descripción</th><th>Importe ($)</th><th>Importe (Q)</th></tr></thead>
        <tbody>
          <tr><td>1</td><td>Energía Promedio de 01/2025 -12/2025</td><td>3,299.26</td><td>25,297.04</td></tr>
          <tr><td>2</td><td>Potencia Promedio de 01/2025 -12/2025</td><td>1,000.00</td><td>7,667.50</td></tr>
          <tr><td>3</td><td>Desvío de Potencia</td><td>79.92</td><td>612.80</td></tr>
          <tr><td>4</td><td>Peaje Principal con ITE (A)</td><td>481.64</td><td>3,692.95</td></tr>
          <tr><td>5</td><td>Peaje Secundario</td><td>165.21</td><td>1,266.74</td></tr>
          <tr><td>6</td><td>Cargo por servicios RRO</td><td>129.23</td><td>990.86</td></tr>
          <tr><td>7</td><td>Cargo por servicios RRA</td><td>36.01</td><td>276.08</td></tr>
          <tr><td>8</td><td>Cargo 50 Bis</td><td>7.16</td><td>54.88</td></tr>
          <tr><td>9</td><td>Cargo por Generación Forzada</td><td>75.22</td><td>576.72</td></tr>
          <tr><td>10</td><td>Línea SIEPAC Promedio de 01/2025 -12/2025</td><td>13.59</td><td>104.19</td></tr>
          <tr><td>11</td><td>VAD DEOCSA Promedio de 01/2025 -12/2025</td><td>1,261.08</td><td>9,669.36</td></tr>
          <tr><td>12</td><td>Arrendamiento equipo</td><td>0</td><td>0</td></tr>
        </tbody>
      </table>

      <!-- Tabla mensual -->
      <table>
        <thead><tr><th colspan="3">RESUMEN MENSUAL</th></tr></thead>
        <thead><tr><th>Mes</th><th>Importe ($)</th><th>Importe (Q)</th></tr></thead>
        <tbody>
          <tr><td>ene-25</td><td>100</td><td>850</td></tr>
          <tr><td>feb-25</td><td>200</td><td>1,600.00</td></tr>
          <tr><td>mar-25</td><td>150</td><td>1,250.00</td></tr>
          <tr><td>abr-25</td><td>210</td><td>1,700.00</td></tr>
          <tr><td>may-25</td><td>180</td><td>1,450.00</td></tr>
          <tr><td>jun-25</td><td>195</td><td>1,600.00</td></tr>
          <tr><td>jul-25</td><td>220</td><td>1,800.00</td></tr>
          <tr><td>ago-25</td><td>170</td><td>1,400.00</td></tr>
          <tr><td>sep-25</td><td>190</td><td>1,550.00</td></tr>
          <tr><td>oct-25</td><td>200</td><td>1,600.00</td></tr>
          <tr><td>nov-25</td><td>210</td><td>1,650.00</td></tr>
          <tr><td>dic-25</td><td>230</td><td>1,750.00</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Gráficas -->
    <div class="charts">
      <canvas id="lineChart"></canvas>
      <canvas id="barChart"></canvas>
    </div>
  </div>

  <!-- Panel de edición -->
  <!-- <div class="controls-panel">
    <h3>Configuración</h3>
    <label for="headerColor">Color Header:</label>
    <input type="color" id="headerColor" value="#003366">
    <label for="headerSize">Tamaño texto Título:</label>
    <input type="number" id="headerSize" value="18" min="10" max="40"> px
    <label for="tableHeaderColor">Color Encabezado Tabla:</label>
    <input type="color" id="tableHeaderColor" value="#003366">
    <label for="tableTextColor">Color Texto Tabla:</label>
    <input type="color" id="tableTextColor" value="#000000">
    <label for="boldText">Negrita en tablas:</label>
    <input type="checkbox" id="boldText">
  </div> -->

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx1 = document.getElementById('lineChart').getContext('2d');
    new Chart(ctx1, {
      type: 'line',
      data: {
        labels: ['Ene','Feb','Mar','Abr','May','Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
        datasets: [{ label: 'Importe Q', data: [850,1600,1250,1700,1450,1600,1800,1400,1550,1600,1650,1750], borderColor: '#003366', fill: false }]
      }
    });

    const ctx2 = document.getElementById('barChart').getContext('2d');
    new Chart(ctx2, {
      type: 'bar',
      data: {
        labels: ['Ene','Feb','Mar','Abr','May','Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
        datasets: [{ label: 'Consumo kWh', data: [700,900,800,950,870,910,1000,850,880,920,970,1050], backgroundColor: '#66a3ff' }]
      }
    });

    // Controles dinámicos
    document.getElementById("headerColor").addEventListener("input", e=>{
      document.querySelector(".titulo").style.color = e.target.value;
    });
    document.getElementById("headerSize").addEventListener("input", e=>{
      document.querySelector(".titulo").style.fontSize = e.target.value+"px";
    });
    document.getElementById("tableHeaderColor").addEventListener("input", e=>{
      document.querySelectorAll("th").forEach(th=>{
        th.style.backgroundColor = e.target.value;
      });
    });
    document.getElementById("tableTextColor").addEventListener("input", e=>{
      document.querySelectorAll("td").forEach(td=>{
        td.style.color = e.target.value;
      });
    });
    document.getElementById("boldText").addEventListener("change", e=>{
      document.querySelectorAll("td, th").forEach(el=>{
        el.style.fontWeight = e.target.checked ? "bold" : "normal";
      });
    });
  </script>
</body>
</html>
